<!DOCTYPE html>
<html>
<head>
  <title>Граматични грешки</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="bgimg w3-display-container w3-animate-opacity w3-text-white">

  <!-- Navbar start -->
  <div class="navbar">
    <a href="index.html" class="w3-bar-item w3-button">Правописни</a>
    <a href="punctioal.html" class="w3-bar-item w3-button">Пунктуационни</a>
    <a href="gramatical.html" class="w3-bar-item w3-button">Граматични</a>
  </div>
  <!-- Navbar end -->
  <div class="w3-display-middle">
    <h1 class="w3-jumbo w3-animate-top">Граматични грешки</h1>
    <hr class="w3-border-grey" style="margin:auto;width:40%">
  </div>
  <!-- Image container start -->
  <div class="image-container">
    <img class = 'image' id="myImage" src="images/1.png" alt="Image" >
  </div>
  <!-- Image container end -->
  <div class="w3-display-bottomleft w3-padding-large">
      Димитър Кюлюмов | Ивайло Русев
  </div>
</div>
<button id="myButton" class="btn6">Генерирай</button>

<script>
  var seen = [];

  document.getElementById('myButton').addEventListener('click', function() {
    fetch('gramatichni.json')
      .then(response => response.json())
      .then(data => {
        var randomIndex;

        do {
          randomIndex = Math.floor(Math.random() * 21) + 1;
        } while (seen.includes(randomIndex));

        seen.push(randomIndex);
        console.log(seen)

        if (seen.length > 21) {
          seen = [];
        }

        var randomImageUrl = data[randomIndex.toString()];
        document.getElementById('myImage').src = randomImageUrl;
      });
  });
</script>

</body>
</html>
